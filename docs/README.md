# Frontend Developer Guide

<!-- TOC-AUTOGENERATED: start -->
- [Project Summary](#project-summary)
- [Repository Tree](#repository-tree)
- [Framework & Tooling Detection](#framework--tooling-detection)
- [Quick Start (Local Dev)](#quick-start-local-dev)
- [Diagrams](#diagrams)
 - [Documentation Details](#documentation-details)
	 - [TOPIC NAME](#topic-name)
- [How to update this guide](#how-to-update-this-guide)
<!-- TOC-AUTOGENERATED: end -->

## Project Summary

- **Framework & Tooling:** React (Create React App) — details: `docs/framework-detection.md`.
- **Repository Structure:** Top-level 4-level snapshot: `docs/repo-tree.md`.
- **Quick Start:** Install, run and build commands: `docs/quick-start.md`.

---

## Repository Tree

- A top-level snapshot is available at `docs/repo-tree.md` (4-level snapshot).

## Repo layout

- Full repository map and per-file one-line purposes: `docs/repo-tree.md`.

## Routes

- High-level route table and notes: `docs/routes.md`.

## Components

- Per-component documentation lives under `docs/components/`. Example files:
	- `docs/components/Navbar.md`
	- `docs/components/PrivateRoute.md`
	- `docs/components/SinglePostPage.md`
	- `docs/components/ApiStatusBlock.md`
	- `docs/components/ApiStatusPanel.md`
	- `docs/components/Footer.md`
	- `docs/components/SearchAutocomplete.md`
	- `docs/components/TableOfContents.md`
	- `docs/components/ImageCropUploader.md`
	- `docs/components/ReadingProgressBar.md`

See the `docs/components/component-doc-template.md` file for the canonical template used to produce these.

## Framework & Tooling Detection

- Summary and detailed detection are in `docs/framework-detection.md`.

## Quick Start (Local Dev)

- Instructions and env example: `docs/quick-start.md`.

## API Mapping

- The frontend → backend endpoint mapping (component → HTTP calls, auth hints, example curl commands) is documented in `docs/api-mapping.md`.

## State management

- Current approach: Auth Context + local React state and hooks. Details, store shape, and guidance for adding slices are in `docs/state.md`.

Short summary:

- Prerequisites: Node 18.x (LTS) and npm.
- Install & run locally: `npm ci` then `npm start` (see `docs/quick-start.md` for full commands).
- Build artifacts: `npm run build` → output in `build/`.
- Env: set `REACT_APP_*` variables in `.env.local` and restart the dev server. See `docs/env.md` for a full variable list and `.env.example` (also in `docs/`).

- Note: Create a local `.env.local` from `.env.example` and never commit secrets to source control.

Build & Deploy: run `npm run build` to produce the static site in `build/`. See `docs/build-deploy.md` for local serve and Docker instructions.

## Diagrams

- Mermaid diagram sources are under `docs/diagrams/` — see `docs/diagrams/project-architecture.mmd`.
 
- VS Code recommended settings and launch configs: `docs/vscode.md`.
- Architecture & login sequence diagrams: `docs/diagrams/architecture.mmd` and `docs/diagrams/login-sequence.mmd` (PNG placeholders included; render with mermaid CLI).

## Documentation Details

### TOPIC NAME

How to add a new route (recipe)

This is a short, actionable recipe for adding a new page route to the app. Follow it when creating a new page component and wiring the route into the SPA router and navigation.

1. Create the page component
	- Path: `src/pages/MyNewPage.js` (or `.jsx`). Use the app's existing page component patterns (functional component, CSS import if needed).

2. Add a route in `src/App.js`
	- Import the page at the top: `import MyNewPage from './pages/MyNewPage';`
	- Add a `<Route path="/my-new-page" element={<MyNewPage/>} />` to the `<Routes>` block. Keep route order logical (catch-alls last).

3. Add navigation (optional)
	- Update `src/components/Navbar.js` (or wherever the nav is) to include a Link/NavLink to `/my-new-page`. Follow existing patterns for active styles.

4. Protect the route (optional)
	- If the page requires auth, wrap the element with `PrivateRoute` or the app's auth-checking HOC/route wrapper: e.g. `<Route path="/secret" element={<PrivateRoute><SecretPage/></PrivateRoute>} />`.

5. Update docs and tests
	- Add the route to `docs/routes.md` with brief notes and intended access (public/private).
	- Add a basic render test under `src/__tests__/MyNewPage.test.js` using React Testing Library; ensure the test file imports from `src/setupTests.js` if present.

6. Run and smoke test
	- Start dev server: `npm start` and open `http://localhost:3000/my-new-page` to confirm the page renders.

Notes
- Keep route path kebab-cased and consistent with existing routes.
- For parameterized routes use React Router's `:param` syntax and document expected params in `docs/routes.md`.


## How to update this guide

1. Edit or add files under `docs/` — each new file must be added as a linked summary to this `docs/README.md` under an appropriate heading.
2. When adding a new section, update the top-of-file TOC block between `<!-- TOC-AUTOGENERATED: start -->` and `<!-- TOC-AUTOGENERATED: end -->` with a single-line link to the section (keep alphabetical or logical order).
3. Use consistent formatting: **bold** for topics, subheadings for sections, and bullet lists for steps.
4. If you update an existing docs file, append a short changelog entry at the bottom of that file with date and author initials.

---

_(End of initial README snapshot — more sections will be appended as docs are created.)_

---

## Consolidated Table of Contents (generated)

Top-level docs in this repository (click to open):

- `docs/.env.example` — example environment variables for local development
- `docs/api-mapping.md` — frontend → backend endpoint mapping
- `docs/build-deploy.md` — build artifacts, local serve and Docker guidance
- `docs/env.md` — environment variables: usage, examples, and VS Code tips
- `docs/framework-detection.md` — detected frameworks, versions and tooling
- `docs/quick-start.md` — install, run and build commands
- `docs/repo-tree.md` — repository snapshot and per-file purpose
- `docs/routes.md` — route table and notes
- `docs/state.md` — state management summary and store shapes
- `docs/testing.md` — test frameworks, how to run tests, CI snippet
- `docs/vscode.md` — recommended VS Code extensions and examples
- `docs/docker-frontend.Dockerfile` — example multi-stage Dockerfile (in docs/ for review)

Per-component docs under `docs/components/` (alphabetical):

- `docs/components/ApiStatusBlock.md`
- `docs/components/ApiStatusPanel.md`
- `docs/components/AuthImage.md`
- `docs/components/BlogSidebar.md`
- `docs/components/DeeperDive.md`
- `docs/components/DevelopmentNotice.md`
- `docs/components/Footer.md`
- `docs/components/ImageCropUploader.md`
- `docs/components/MarketMap.md` (market subfolder)
- `docs/components/Navbar.md`
- `docs/components/NewsHighlights.md`
- `docs/components/PasswordPromptModal.md`
- `docs/components/ReadingProgressBar.md`
- `docs/components/ResponsiveAuthImage.md`
- `docs/components/SearchAutocomplete.md`
- `docs/components/ShareButtons.md`
- `docs/components/ShareModal.md`
- `docs/components/StoryThumbnailManager.md`
- `docs/components/TableOfContents.md`
- `docs/components/component-doc-template.md` — canonical component doc template

Diagrams (Mermaid sources):

- `docs/diagrams/architecture.mmd` — container architecture (render with mermaid CLI)
- `docs/diagrams/login-sequence.mmd` — login + initial data-fetch sequence
- `docs/diagrams/login-sequence.png` — placeholder text; render with mermaid CLI
- `docs/diagrams/architecture.png` — placeholder text; render with mermaid CLI

---

## How to update this guide (rules recap)

Follow these rules when editing docs so the guide remains consistent and machine-friendly:

1. Edit or add files under `docs/` only. New files must be added as linked summaries to this `docs/README.md` under an appropriate heading.
2. Keep the top-of-file TOC block between `<!-- TOC-AUTOGENERATED: start -->` and `<!-- TOC-AUTOGENERATED: end -->` updated with single-line links to new sections. Maintain logical ordering.
3. Use consistent formatting: **bold** for topics, subheadings for sections, and bullet lists for steps and recipes.
4. When updating an existing docs file, append a short changelog entry at the bottom of that file with date and author initials.
5. Never commit secrets. Use `.env.example` for non-sensitive defaults and instruct contributors to use `.env.local` or CI secret stores for real secrets.

---

## CHANGELOG / History

- Generated on 2025-09-27 by Copilot Agent (notes: many docs aggregated into `docs/`; see individual files for per-file creation dates).

---

## Next steps & TODO (detected gaps)

These are actionable items the agent detected while scanning the repo. Prioritize as appropriate:

1. Secrets: ensure no secrets are committed. Verify root `.env` and `build/` for accidental secrets; switch to `.env.local` for dev secrets.
2. Tests: there are testing deps (Jest + Testing Library) but very few or no test files. Add a minimal smoke test and a CI job step to run tests.
3. Mocks: No MSW or test mock server present. Consider adding MSW handlers for API endpoints defined in `src/apiConfig.js` to make frontend tests reliable.
4. Component docs completeness: some `docs/components/*` files may contain TODOs (props, example usage). Sweep and complete those files by reading each component source and adding prop-types/props table.
5. Routes: verify `docs/routes.md` matches `src/App.js` and any nested routers; update where route params or access rules are ambiguous.
6. CI: add a GitHub Actions workflow to run lint, tests, and build (example CI job snippet is in `docs/testing.md` and `docs/build-deploy.md`).
7. Docker: move `docs/docker-frontend.Dockerfile` into project root (if you plan to build images) and add a small `nginx.conf` for proper SPA routing.
8. Diagrams: render Mermaid sources to PNG/SVG and inline them in `docs/README.md` for easier reading.
9. VS Code: add `.vscode/extensions.json` to recommend editors automatically when contributors open the repo.
10. API mapping verification: cross-check each mapped endpoint in `docs/api-mapping.md` against live backend / OpenAPI if available.

If you'd like, I can address any of the above automatically (scaffold tests, add MSW, render diagrams, add CI workflow). Pick one or say "Do all" and I'll continue.

